@model STrackerServer.Models.TvShow.TvShowView

@{
    ViewBag.Title = @Model.Name;
    Layout = "~/Views/Shared/MainLayout.cshtml";
}

<div class="container-fluid">
    <div class="row-fluid">
        <div class="span3">  
            @Html.Action("TvShowPartialOptions","TvShowsWeb", new
                {
                    tvshowId = Model.TvShowId, 
                    unsubscribeRedirectUrl = Url.Action("Show","TvShowsWeb", new { tvshowId = Model.TvShowId })
                })
        </div> 
        <div class="span6">
            <div class="box">
                <h2>@Model.Name</h2>
                <p>@Model.Description</p> 
                <p><b>Air Day: </b> @Model.AirDay</p>
                <p><b>Runtime: </b> @Model.Runtime min</p>              
                <p><a href="http://www.imdb.com/title/@Model.TvShowId">IMDB</a></p>  

                <p><b>Genre:</b></p>
                <ul>
                    @foreach(var genre in Model.Genres)
                    {
                        <li>@genre</li>            
                    }
                </ul>
            </div>     
            <div class="box">
                <b> Seasons:</b>
                <a href="@Url.Action("Show", "SeasonsWeb", new { tvshowId = Model.TvShowId, number = Model.SeasonSynopses[0].SeasonNumber })">@Model.SeasonSynopses[0].SeasonNumber</a> 
                @for (var i = 1; i < Model.SeasonSynopses.Count; i++ )   
                {
                    <b>| </b><a href="@Url.Action("Show", "SeasonsWeb", new { tvshowId = Model.TvShowId, number = Model.SeasonSynopses[i].SeasonNumber })">@Model.SeasonSynopses[i].SeasonNumber</a>  
                }
            </div> 
            <div class="box">
                <h2>Cast</h2>
                <br/>

                <div style="text-align: center">
                    @foreach(var actor in Model.Actors)
                    {
                        <div class="span2" style="text-align: justify">

                            @if(actor.Photo != null)
                            {
                                <img class="" src="@actor.Photo.ImageUrl" alt="No Artwork"/>
                            }
       
        
                            @actor.Name
                            @actor.CharacterName
                            <br/>
                        </div>   
                    }
                </div>

                <table class="table table-condensed">
                    <tr>
                        <th>Photo</th>
                        <th>Name</th>
                        <th>Character</th>
                    </tr>
        
                    @foreach(var actor in Model.Actors)
                    {
                        <tr>
                            <td>
                                @if(actor.Photo != null)
                                {
                                    <img class="" src="@actor.Photo.ImageUrl" alt="No Artwork"/>
                                }
                            </td>
                            <td>
                                @actor.Name
                            </td>
                            <td>
                                @actor.CharacterName
                            </td>
                        </tr>  
                    }
                </table>
            </div>     
        </div>
    </div>
</div>